/*
 * Smart Animated Popup v2.0
 * https://www.smartplugins.info/plugin/javascript/smart-animated-popup/
 *
 * Copyright 2008 - 2023 Milan Petrovic (email: support@smartplugins.info)
 *
 * https://www.smartplugins.info
 */

/* jQuery Cookie */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,function(){var n=e.Cookies,o=e.Cookies=t();o.noConflict=function(){return e.Cookies=n,o}}())}(this,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}return function t(n,o){function r(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+c}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},r=0;r<t.length;r++){var i=t[r].split("="),c=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(o[u]=n.read(c,u),e===u)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}));

/* Base.js */
var Base=function(){};Base.extend=function(b,c){"use strict";var d=Base.prototype.extend;Base._prototyping=true;var e=new this();d.call(e,b);e.base=function(){};delete Base._prototyping;var constructor=e.constructor;var f=e.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==f){this._constructing=true;constructor.apply(this,arguments);delete this._constructing}else if(arguments[0]!==null){return(arguments[0].extend||d).call(arguments[0],e)}}};f.ancestor=this;f.extend=this.extend;f.forEach=this.forEach;f.implement=this.implement;f.prototype=e;f.toString=this.toString;f.valueOf=function(a){return(a=="object")?f:constructor.valueOf()};d.call(f,c);if(typeof f.init=="function")f.init();return f};Base.prototype={extend:function(c,d){if(arguments.length>1){var e=this[c];if(e&&(typeof d=="function")&&(!e.valueOf||e.valueOf()!=d.valueOf())&&/\bbase\b/.test(d)){var f=d.valueOf();d=function(){var a=this.base||Base.prototype.base;this.base=e;var b=f.apply(this,arguments);this.base=a;return b};d.valueOf=function(a){return(a=="object")?d:f};d.toString=Base.toString}this[c]=d}else if(c){var g=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){g=this.extend||g}var h={toSource:null};var j=["constructor","toString","valueOf"];var i=Base._prototyping?0:1;while(k=j[i++]){if(c[k]!=h[k]){g.call(this,k,c[k])}}for(var k in c){if(!h[k])g.call(this,k,c[k])}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a){if(this.prototype[d]===undefined){b.call(c,a[d],d,a)}}},implement:function(){for(var i=0;i<arguments.length;i++){if(typeof arguments[i]=="function"){arguments[i](this.prototype)}else{this.prototype.extend(arguments[i])}}return this},toString:function(){return String(this.valueOf())}});

/* Popup */
var smartAniPopup,smpIDSequence=1;!function(c,r,h,i){"use strict";(smartAniPopup=function(t,e){return new smartAniPopup.Core(t,e)}).Base=Base.extend({version:"2.0",constructor:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={}),this.setOptions(c.extend(!0,{},t,e))},setOption:function(t,e){this[t]=e},getOption:function(t){return this[t]||!1},setOptions:function(t){for(var e in t)void 0!==t[e]&&this.setOption(e,t[e])},getOptions:function(){return this},callback:function(t){if("function"==typeof t){for(var e=[],s=1;s<=arguments.length;s++)arguments[s]&&e.push(arguments[s]);t.apply(this,e)}}}),smartAniPopup.Core=smartAniPopup.Base.extend({$useCookie:!1,$skin:!1,$obj:!1,$overlay:!1,$id:!1,skin:"Base",settings:{},callbacks:{prepared:!1,ready:!1,beforeOpen:!1,afterOpen:!1,beforeClose:!1,afterClose:!1},constructor:function(t,e){this.base(e),this.$useCookie="undefined"!=typeof Cookies,this.$id=smpIDSequence,this.$obj=c(t),this.$skin=this._loadSkin(this.skin,this.settings),smpIDSequence++},open:function(){this.$skin._open(this.$skin)},close:function(){this.$skin._close(this.$skin)},save:function(){this.$skin._save(this.$skin)},get:function(t){return"cookie"===t?t="$cookie":"status"===t&&(t="$status"),this.$skin[t]},mod:function(t){this.$skin._mod(t)},move:function(t){this.$skin._move(t)},resize:function(t){this.$skin._resize(t)},randomFromArray:function(t){return t[Math.floor(Math.random()*t.length)]},_loadSkin:function(t,e){return smartAniPopup[t+"Skin"]||(t="Base"),new smartAniPopup[t+"Skin"](this,e)}}),smartAniPopup.Skin=smartAniPopup.Base.extend({$skinCode:"",$core:!1,$cookie:1,$cookieUsed:!1,$cookiePosize:{},$enabled:!0,$status:"closed",$statusModal:"closed",$htmlClass:"",$mode:"transition",$animation:["slit","slithor","bounce","roll"],$effects:["none","fade","scale","zoomfade","slideinright","slideinleft","slideintop","slideinbottom","newspaper","fallcenter","fallleft","fallright","fliphorleft","fliphorright","flipvertop","flipverbottom","flipsign","flipsignfront","slit","slithor","bounce","roll","rotatebottom","rotatetop","rotateleft","rotateright"],$props:{overlay:{zIndex:"z-index",overlayColor:"background"},dialog:{width:"width",height:"height",minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"},content:{cWidth:"width",cHeight:"height"}},$classes:{html:"sanp-active",htmlEffectPrefix:"sanp-effect-",overlay:"sanp-overlay",overlayIDPrefix:"sanp-overlay-",overlayActive:"sanp-active",skinPrefix:"sanp-skin-",titleIDPrefix:"sanp-dialog-title-",dialog:"sanp-dialog",dialogIDPrefix:"sanp-dialog-",dialogEffectPrefix:"sanp-effect-",dialogActive:"sanp-active",dialogInactive:"sanp-inactive",wrapper:"sanp-wrapper",header:"sanp-header",content:"sanp-content",footer:"sanp-footer",srOnly:"sanp-sr-only",closeButton:"sanp-button-close",drag:"sanp-drag",grip:"sanp-grip"},role:"dialog",modal:!0,zIndex:1e6,title:!0,titleTag:"h5",style:"sanp-style-plain-white",containerSelector:"body",extraClass:"",effect:"random",effectSpeed:.7,onLoad:!0,onLoadDelay:500,onLeaveTop:!1,onLeaveTopOffset:3,onLeaveViewport:!1,closeEscape:!0,closeOverlay:!0,closeAuto:!1,closeAutoDelay:0,overlayActive:!0,overlayColor:"#ffffff",overlayOpacity:.7,overlaySpeed:.07,angle:0,cWidth:"auto",cHeight:"auto",save:{},width:"40%",height:"auto",positionX:"center",positionY:"center",offsetX:"10px",offsetY:"10px",minWidth:"200px",maxWidth:"95%",minHeight:null,maxHeight:null,header:!0,headerContent:!1,footer:!0,footerContent:!1,buttonX:!0,buttonXContent:"&#x2716;",buttonFooter:!0,buttonFooterContent:"Close",ariaCloseLabel:"Close this dialog",cookieCode:"smart-animated-popup",cookiePosizeCode:"smart-animated-popup-posize",cookiePosizeExpiration:365,autoShowLimit:!1,autoShowCounter:5,autoShowDelay:7,attrWrapper:"",attrHeader:"",attrContent:"",attrFooter:"",xContentSize:!1,savePosize:!0,constructor:function(t,e){this.base(e),this.$core=t,"random"===this.effect&&(this.effect=this.$core.randomFromArray(this.$effects)),this._setMode(),this._cookieInit(),this._prepareDialog(),this.callback(this.$core.callbacks.prepared,this.$core,this),this.overlayActive?(this.createOverlay(),this.closeOverlay&&this._overlayClick()):this.createModalay(),this.closeEscape&&this._escapeClick(),this.createDialog(),this.onLoad&&this._onLoad(),this.onLeaveTop&&this._onLeaveTop(),this.onLeaveViewport&&this._onLeaveViewport();var s=this;c(r).on("resize orientationchange",function(){s._calculatePosition(!1)}),this._buttonClick(),this._finishDialog(),this.callback(this.$core.callbacks.ready,this.$core,this)},container:function(){return 1===c(this.containerSelector).length?c(this.containerSelector):c("body")},createModalay:function(){var t=["z-index: "+this.zIndex+";"];this.container().append("<div style='"+t.join(" ")+"' class='"+this.$classes.overlay+" "+this.css("overlay")+"'></div>")},createOverlay:function(){var t=this.props("overlay");t.push("transition: all "+this.overlaySpeed+"s;"),this.container().append("<div style='"+t.join(" ")+"' class='"+this.$classes.overlay+" "+this.css("overlay")+"'></div>")},createDialog:function(){var t="",e=this.props("dialog"),s=[],o=[this.$classes.dialog,this.css("skin"),this.css("dialog"),this.css("effect"),this.style,this.extraClass],i=this.props("content");!0===this.title?t=this.o().data("title"):!1!==this.title&&(t=this.title),0!==this.angle&&e.push("transform: rotate("+this.angle+"deg);"),e.push("z-index: "+(this.zIndex+1)+";"),"transition"===this.$mode&&(s.push("-webkit-transition: all "+this.effectSpeed+"s;"),s.push("transition: all "+this.effectSpeed+"s;")),e="<div class='"+o.join(" ")+"' style='"+e.join(" ")+"'",""!==this.role&&(e+=" role='"+this.role+"'"),""!==t&&!1===this.headerContent&&(e+=" aria-labelledby='"+this.css("title")+"'"),e+=this.attrWrapper,e+="><div class='"+this.$classes.wrapper+"' style='"+s.join(" ")+"'>",this.buttonX&&(e+="<button type='button' class='"+this.$classes.closeButton+"'><span aria-hidden='true'>"+this.buttonXContent+"</span><span class='"+this.$classes.srOnly+"'>"+this.ariaCloseLabel+"</span></button>"),this.header&&(e+="<div class='"+this.$classes.header+"'"+this.attrHeader+">",!1===this.headerContent&&""!==t&&(e+="<"+this.titleTag+" id='"+this.css("title")+"'>"+t+"</"+this.titleTag+">"),e+="</div>"),e+="<div class='"+this.$classes.content+"' style='"+i.join(" ")+"'"+this.attrContent+"></div>",this.footer&&(e+="<div class='"+this.$classes.footer+"'"+this.attrFooter+">",!1===this.footerContent&&this.buttonFooter&&(e+="<button type='button' class='"+this.$classes.closeButton+"'><span aria-hidden='true'>"+this.buttonFooterContent+"</span><span class='"+this.$classes.srOnly+"'>"+this.ariaCloseLabel+"</span></button>"),e+=this._appendToFooter(),e+="</div>"),e+="</div>",e+="</div>",this.container().append(e),!1!==this.headerContent&&c("."+this.css("dialog")+" ."+this.$classes.header).append(this.headerContent),!1!==this.footerContent&&c("."+this.css("dialog")+" ."+this.$classes.footer).append(this.footerContent),c("."+this.css("dialog")+" ."+this.$classes.content).append(this.o()),this.o().show(),this._calculatePosition(!0)},open:function(t,e){if(!t.$enabled||0===t.$cookie)return!1;var s=t._open(t);return s&&(e&&(t.$enabled=!1),t.autoShowLimit&&(t.$cookie--,t._cookieSave())),s},close:function(t){return t._close(t)},css:function(t){switch(t){case"title":return this.$classes.titleIDPrefix+this.$core.$id;case"overlay":return this.$classes.overlayIDPrefix+this.$core.$id;case"dialog":return this.$classes.dialogIDPrefix+this.$core.$id;case"wrapper":return this.$classes.dialogIDPrefix+this.$core.$id+" ."+this.$classes.wrapper;case"content":return this.$classes.dialogIDPrefix+this.$core.$id+" ."+this.$classes.content;case"effect":return this.$classes.dialogEffectPrefix+this.effect;case"skin":return this.$classes.skinPrefix+this.$skinCode}},props:function(t){var s=this,o=[];return c.each(this.$props[t],function(t,e){s[t]&&o.push(e+":"+s[t]+";")}),o},o:function(){return this.$core.$obj},w:function(){return c("."+this.css("wrapper"))},_mod:function(t){var s=this;c.each(t,function(t,e){s[t]=e,"modal"===t&&(e?s._showModalOverlay(s):s._hideModalOverlay(s,!0))})},_move:function(t){t=c.extend({positionX:this.positionX,positionY:this.positionY,offsetX:this.offsetX,offsetY:this.offsetY},t);this.positionX=t.positionX,this.positionY=t.positionY,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this._calculatePosition()},_resize:function(t){var e=c.extend({width:0,height:0},t),t=c("."+this.css("dialog"));this.width=e.width,this.height=e.height,t.width(e.width),t.height(e.height),this._calculatePosition()},_setMode:function(){-1<c.inArray(this.effect,this.$animation)?this.$mode="animation":"none"===this.effect&&(this.$mode="none")},_open:function(t){if("opened"===t.$status)return!1;t._beforeOpen(t),t.callback(t.$core.callbacks.beforeOpen,t.$core,t);var e=c("."+t.css("dialog"));return e.addClass(t.$classes.dialogActive),"animation"===t.$mode&&e.removeClass(t.$classes.dialogInactive),t._showModalOverlay(t),t._calculatePosition(t),t.$status="opened",t.callback(t.$core.callbacks.afterOpen,t.$core,t),t.closeAuto&&0<t.closeAutoDelay&&t._autoClose(),t._afterOpen(t),!0},_close:function(t){if("closed"===t.$status)return!1;t.callback(t.$core.callbacks.beforeClose,t.$core,t);var e=c("."+t.css("dialog"));return e.removeClass(t.$classes.dialogActive),"animation"===t.$mode&&e.addClass(t.$classes.dialogInactive),t._hideModalOverlay(t,!1),t.$status="closed",t.callback(t.$core.callbacks.afterClose,t.$core,t),!0},_save:function(t){return t._savePosizeCookie(),!0},_showModalOverlay:function(t){t.modal&&"closed"===t.$statusModal&&(t.$htmlClass=t.$classes.html+" "+t.$classes.htmlEffectPrefix+t.effect,c("html").addClass(t.$htmlClass),c("."+t.css("overlay")).css("opacity",t.overlayOpacity).addClass(t.$classes.overlayActive),t.$statusModal="opened")},_hideModalOverlay:function(t,e){(t.modal||e)&&"opened"===t.$statusModal&&(c("html").removeClass(this.$htmlClass),c("."+t.css("overlay")).css("opacity",0).removeClass(t.$classes.overlayActive),t.$statusModal="closed")},_calculateContent:function(){var t=c("."+this.css("dialog")).outerHeight(),e=c("."+this.css("dialog")+" ."+this.$classes.header),s=c("."+this.css("dialog")+" ."+this.$classes.footer),o=c("."+this.css("dialog")+" ."+this.$classes.content),i=o.innerHeight()-o.height();0<e.length&&(i+=e.outerHeight(!0)),0<s.length&&(i+=s.outerHeight(!0)),o.height(t-i)},_calculatePosition:function(t){if("opened"===this.$status||t){var e=c("."+this.css("dialog")),s=e.outerWidth(),t=e.outerHeight(),o=h.body.scrollWidth,i=r.innerHeight,n=o-s,a=i-t;switch(e.css("right",""),e.css("left",""),e.css("top",""),e.css("bottom",""),this.positionX){default:case"center":e.css("left",n/2/(o/100)+"%");break;case"left":e.css("left",this.offsetX);break;case"right":e.css("right",this.offsetX)}switch(this.positionY){default:case"center":e.css("top",a/2/(i/100)+"%");break;case"top":e.css("top",this.offsetY);break;case"bottom":e.css("bottom",this.offsetY)}this.xContentSize&&this._calculateContent()}this._savePosizeCookie()},_buttonClick:function(){var e=this,t="."+this.css("dialog")+" ."+this.$classes.closeButton;c(h).on("click",t,function(t){t.stopPropagation(),e.close(e)})},_escapeClick:function(){var e=this;c(h).on("keyup",function(t){"opened"===e.$status&&27===t.keyCode&&e.close(e)})},_overlayClick:function(){var e=this,t="."+this.css("overlay");c(h).on("click",t,function(t){t.stopPropagation(),e.close(e)})},_onLoad:function(){var t=this;setTimeout(function(){t.open(t,!1)},this.onLoadDelay)},_onLeaveViewport:function(){var t=this;c(h).mouseleave(function(){t.open(t,!0)})},_onLeaveTop:function(){var e=this;c(h).on("mousemove",function(t){t.pageY<e.onLeaveTopOffset&&e.open(e,!0)})},_beforeOpen:function(t){},_afterOpen:function(t){t._savePosizeCookie()},_appendToFooter:function(){return""},_autoClose:function(){var t=this;setTimeout(function(){t.close(t)},this.closeAutoDelay)},_cookieInit:function(){this.$core.$useCookie&&this.autoShowLimit&&(this.$cookie=parseInt(Cookies.get(this.cookieCode)),!isNaN(this.$cookie)&&this.$cookie!==i||(this.$cookie=this.autoShowCounter))},_cookieSave:function(){var t;this.$core.$useCookie&&this.autoShowLimit&&(t=0===this.$cookie?this.autoShowDelay:365,this.$cookie<0&&(this.$cookie=0),Cookies.set(this.cookieCode,this.$cookie,{expires:t,path:"/"}))},_getRect:function(t){var e=t.getBoundingClientRect(),s=r.scrollX||h.documentElement.scrollLeft,t=r.scrollY||h.documentElement.scrollTop;return{left:e.left+s,top:e.top+t,right:e.right+s,bottom:e.bottom+t}},_getOffset:function(){var t=this.w()[0].getBoundingClientRect(),e=c("."+this.css("content")),s=c("."+this.css("wrapper")),o=r.scrollX||h.documentElement.scrollLeft,i=r.scrollY||h.documentElement.scrollTop;return{content:{width:e.width(),height:e.height()},wrapper:{width:s.width(),height:s.height()},left:t.left+o,top:t.top+i,right:t.right+o,bottom:t.bottom+i}},_prepareDialog:function(){this._loadPosizeCookie()},_finishDialog:function(){this._savePosizeCookie()},_loadPosizeCookie:function(){var t;!this.savePosize||(t=Cookies.get(this.cookiePosizeCode,!0))!==i&&(t=JSON.parse(t),this.$cookiePosize=this._genPosizeCookie(t),this.$cookieUsed=!0),this._applyPosizeCookie()},_applyPosizeCookie:function(){var s;this.$cookieUsed&&(s=this,c.each(this.$cookiePosize,function(t,e){s[t]=e}))},_savePosizeCookie:function(){var t;this.savePosize&&(t=this._genPosizeCookie({}),Cookies.set(this.cookiePosizeCode,JSON.stringify(t),{expires:this.cookiePosizeExpiration,path:"/"}))},_genPosizeCookie:function(t){return c.extend({positionX:this.positionX,positionY:this.positionY,offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height,modal:this.modal,onLoad:this.onLoad,onLoadDelay:this.onLoadDelay,save:this.save},t)}}),smartAniPopup.BaseSkin=smartAniPopup.Skin.extend({$skinCode:"base"}),c.fn.smartAniPopup=function(s,e){if(s===i||"object"==typeof s)return this.each(function(){var t=c(this),e=new smartAniPopup(t,s);t.data("smp-plugin",e)});if("string"==typeof s){if("get"===s){var o=[];return this.each(function(){var t=c(this).data("smpPlugin");t&&o.push(t.get(e))}),1===o.length?o[0]:o}this.each(function(){var t=c(this).data("smpPlugin");t&&t[s](e)})}}}(jQuery,window,document);
